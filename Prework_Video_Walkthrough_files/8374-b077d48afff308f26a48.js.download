"use strict";(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[8374],{1732:(e,t,r)=>{r.d(t,{AdminHeader:()=>d,AdminHeaderType:()=>s,AdminTextArea:()=>u,AdminTextAreaCopy:()=>M,AdminTextAreaType:()=>Y,AdminTextInput:()=>m.T,AdminTextInputCopy:()=>F,AdminTextInputType:()=>N,BooleanIndicator:()=>p,UploadCsvButton:()=>v,VideoGroupingsTable:()=>B,formatAdminDate:()=>g,formatAdminTime:()=>E,useAdminSiteTitle:()=>b,useQueryParams:()=>L});var a,n,l,i=r(8672),o=r(15068),s=((a=s||{}).Page="page",a.Tool="tool",a);let c={page:{htmlTag:"h1",variant:"mainTitle",spacing:"xlarge"},tool:{htmlTag:"h2",variant:"title",spacing:"medium"}},d=({type:e=s.Tool,title:t,description:r=""})=>i.createElement(o.mcf,{htmlTag:"header",marginBottom:c[e].spacing,paddingTop:"medium"},i.createElement(o.zAb,{gap:"small",autoFlow:"row"},i.createElement(o.EYj,{variant:c[e].variant,htmlTag:c[e].htmlTag,alignment:"left"},t),r?i.createElement(o.EYj,null,r):null)),u=({type:e=Y.Users,onChange:t,value:r,errorMessage:a,disabled:n})=>{let{id:l,label:s,placeholder:c}=M[e];return i.createElement(o.zBI,{label:s,labelFor:l},i.createElement(o.TMX,{id:l,disabled:n,placeholder:c,value:r,size:"medium",error:a,onChange:t}))};var m=r(16311);let p=({condition:e,trueText:t="Yes",falseText:r="No"})=>i.createElement(o.EYj,{isInline:!0},i.createElement("span",{role:"img","aria-label":e?"checkmark":"red x"},e?"✅":"❌")," ",i.createElement("pre",{className:"inline ml:small"},e?t:r)),g=e=>new Date(e).toLocaleString("en-GB",{timeZone:"UTC",day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),E=(e,t=!1)=>{let r=new Date(e).toLocaleString("en-GB",{timeZone:"UTC",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return t?r+"."+e.getMilliseconds():r};var _=r(17221),h=r(28506),y=r(38275);let v=(0,i.forwardRef)(({onClick:e,limit:t=null,text:r="Upload CSV"},a)=>{let n=(0,i.useRef)(null),[l,s]=(0,i.useState)(null);return v.displayName="UploadCsvButton",(0,i.useImperativeHandle)(a,()=>({resetUploadState(){s(null),n.current&&(n.current.value="")}})),i.createElement(i.Fragment,null,i.createElement("input",{accept:y.pf,className:"upload-csv-button_uploadInput_KqI",onChange:t=>{let r=t.target.files?.[0];r&&(s(`${r.name}, ${r.size}kb`),e(r))},ref:n,type:"file"}),i.createElement(o.m_M,{content:t&&!l?`Limit ${t}`:l?`${l}`:null},i.createElement(o.$nd,{icon:l?i.createElement(_.b,null):i.createElement(h.B,null),onClick:()=>n?.current?.click()},l?"Uploaded":r)))});var f=r(65072);let S="Loommate Admin Portal",b=e=>{(0,f.q)(e,S,S)};var k=r(86595),w=r.n(k),I=r(6513),A=r.n(I),T=r(65976),C=r(5799),P=r(23604);let R={},D=(0,C.J1)`
    mutation AdminBulkDeleteGroupingsByPrimaryKey($groupingPrimaryKeys: [GroupingPrimaryKey!]!) {
  adminBulkDeleteGroupingsByPrimaryKey(groupingPrimaryKeys: $groupingPrimaryKeys) {
    ... on AdminBulkDeleteGroupingsByPrimaryKeyPayload {
      success
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `,O=[{key:"select",label:"Select",width:"50px"},{key:"groupingId",label:"Grouping Id"},{key:"videoId",label:"Video Id",width:"2fr"},{key:"folder",label:"Folder"},{key:"spaces",label:"Spaces"},{key:"groupingType",label:"Grouping Type"},{key:"createdAt",label:"CreatedAt"},{key:"updatedAt",label:"UpdatedAt"}],U=O.map(e=>e.width||"1fr"),x=()=>i.createElement(o.vS5,{paddingX:"medium",paddingY:"12px"},O.map(e=>i.createElement(o.EYj,{key:e.key,fontWeight:"bold",color:"bodyDimmed"},e.label))),B=({groupings:e})=>{let[t,r]=i.useState(!1),[a,n]=i.useState(""),[l,s]=i.useState({}),[c,{loading:d}]=function(e){let t={...R,...e};return P.n(D,t)}({onCompleted:e=>{e?.adminBulkDeleteGroupingsByPrimaryKey?.__typename==="AdminBulkDeleteGroupingsByPrimaryKeyPayload"&&e?.adminBulkDeleteGroupingsByPrimaryKey?.success&&n("Groupings successfully deleted!"),e?.adminBulkDeleteGroupingsByPrimaryKey?.__typename==="GenericError"&&n(e?.adminBulkDeleteGroupingsByPrimaryKey?.message)},onError:e=>{n(e.message)},refetchQueries:["AdminGetVideoGroupingsByOwner","AdminGetGroupingsByVideoId"]});return e?i.createElement(o.zAb,{gap:"small",autoFlow:"row"},i.createElement(o.$nd,{variant:"danger",onClick:()=>r(!0),style:{width:"fit-content"},isDisabled:w()(l)},"Delete"),i.createElement(o.B8B,{columns:U,gap:"medium",variant:"stripe"},i.createElement(x,null),e.map(e=>{let t=null!==e.type&&T.n.includes(e.type),r=`${e.groupingId}_${e.video.id}`;return i.createElement(o.vS5,{paddingX:"medium",key:r,paddingY:"12px"},i.createElement(o.m_M,{content:`Groupings of type ${e.type} cannot be deleted`,placement:"topCenter",isDisabled:t},i.createElement(o.Sc0,{isDisabled:!t,onChange:t=>{t.target.checked?s({...l,[r]:e}):s(A()(l,[r]))}})),i.createElement(o.EYj,null,e.groupingId),i.createElement(o.EYj,null,i.createElement("pre",null,e.video.id)),i.createElement(o.EYj,null,e?.video.folder?.name),i.createElement(o.EYj,null,e?.video.spaces?.map(e=>i.createElement(i.Fragment,{key:e.id},e.name,i.createElement("br",null)))),i.createElement(o.EYj,null,e.type),i.createElement(o.EYj,null,e.createdAt),i.createElement(o.EYj,null,e.updatedAt))}),i.createElement(o.aFV,{isOpen:t,onCloseClick:()=>{r(!1)},mainButton:i.createElement(o.$nd,{isDisabled:d,hasLoader:d,variant:"record",onClick:async()=>{await c({variables:{groupingPrimaryKeys:Object.values(l).map(e=>({groupingId:e.groupingId,videoId:e.video.id.toString()}))}}),r(!1),s({})}},"Confirm")},"Are you sure you want to permanently delete the following groupings?",Object.values(l).map(e=>{let t=`${e.groupingId}_${e.video.id}`;return i.createElement(o.hKd,{top:"medium",key:t},i.createElement(o.zAb,{gap:"xsmall",autoFlow:"row"},i.createElement("span",null,i.createElement(o.EYj,{fontWeight:"bold",isInline:!0},"Grouping Id:")," ",e.groupingId),i.createElement("span",null,i.createElement(o.EYj,{fontWeight:"bold",isInline:!0},"Video Id:")," ",e.video.id),i.createElement("span",null,i.createElement(o.EYj,{fontWeight:"bold",isInline:!0},"Grouping Type:")," ",e.type)))})),i.createElement(o.y8,{isOpen:!!a,onCloseClick:()=>n("")},a))):null};r(15171);let F={email:{id:"emailQuery",label:"Email",placeholder:"name@email.com"},user:{id:"userQuery",label:"User ID or email",placeholder:"12345 or name@email.com"},"rewatch-user":{id:"rewatchUserQuery",label:"Designated Admin User ID or email",placeholder:"12345 or name@email.com"},workspace:{id:"workspaceQuery",label:"Workspace ID",placeholder:"6789"}},M={users:{id:"userQueries",label:"User IDs or emails (separated by commas)",placeholder:"123,234,345 or name@email.com,name2@email.com"},"rewatch-urls":{id:"rewatchUrls",label:"S3 URLs (separated by commas)",placeholder:"https://rewatch-exports.s3.abcd.com/123,https://rewatch-exports.s3.abcd.com/456,https://rewatch-exports.s3.abcd.com/789"}};var N=((n=N||{}).User="user",n.Workspace="workspace",n.Email="email",n.RewatchUser="rewatch-user",n),Y=((l=Y||{}).Users="users",l.RewatchUrls="rewatch-urls",l),j=r(86292);let L=()=>{let{search:e}=(0,j.zy)();return(0,i.useMemo)(()=>new URLSearchParams(e),[e])}},3848:(e,t,r)=>{r.d(t,{S:()=>s});var a=r(11604),n=r(5799),l=r(90623);let i={},o=(0,n.J1)`
    query GetUserProperty($name: String!) {
  result: getUserProperty(name: $name) {
    ... on PersonProperty {
      value
      name
    }
  }
}
    `,s=(e,t={})=>{let r=(0,a.useIsCurrentUserLoggedIn)(),{onError:n}=t,{loading:s,error:c,data:d}=function(e){let t={...i,...e};return l.I(o,t)}({variables:{name:e},onError:e=>n&&n(e),skip:!r});return{loading:s,error:c,value:d?.result?.__typename==="PersonProperty"?d.result.value:null}}},14989:(e,t,r)=>{r.d(t,{a:()=>l});var a=r(46320),n=r.n(a);let l=e=>n()(e.filter(e=>null!==e),"name")},15171:()=>{},16311:(e,t,r)=>{r.d(t,{T:()=>i});var a=r(1732),n=r(8672),l=r(15068);let i=({type:e,onChange:t,onBlur:r,value:i,hasError:o,disabled:s=!1,idSuffix:c})=>{let{id:d,label:u,placeholder:m}=a.AdminTextInputCopy[e],p=c?`${d}-${c}`:d;return n.createElement(l.zBI,{label:u,labelFor:p},n.createElement(l.ksK,{id:p,disabled:s,placeholder:m,value:i??void 0,size:"medium",hasError:o,onChange:t,onBlur:r}))}},28506:(e,t,r)=>{r.d(t,{B:()=>i});var a=r(17073),n=r(78894),l=r(8672);function i(e){return l.createElement(l.Fragment,null,l.createElement("svg",(0,a.k)((0,a.I)({viewBox:"0 0 24 24",fill:"none"},e),{className:"lens-legacy-icon"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.444 7a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM7.444 12.333a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM7.444 17.667a1 1 0 011-1H20a1 1 0 110 2H8.444a1 1 0 01-1-1zM3 7a1 1 0 011-1h.01a1 1 0 010 2H4a1 1 0 01-1-1zM3 12.333a1 1 0 011-1h.01a1 1 0 110 2H4a1 1 0 01-1-1zM3 17.667a1 1 0 011-1h.01a1 1 0 110 2H4a1 1 0 01-1-1z",fill:"currentColor"})),l.createElement(n.A,{label:""}))}},30616:(e,t,r)=>{r.d(t,{A:()=>i,m:()=>l});var a=r(59599);let n=(0,a.Z0)({name:"reset_password",initialState:{is_fetching:!1},reducers:{updateResetPasswordIsFetching:(e,t)=>{e.is_fetching=t.payload}}}),{updateResetPasswordIsFetching:l}=n.actions,i=n.reducer},44251:(e,t,r)=>{r.d(t,{Ay:()=>c,M_:()=>s,h4:()=>l,nM:()=>o,zp:()=>i});var a=r(59599);let n=(0,a.Z0)({name:"avatar",initialState:{currently_dragging:null,uploading:!1},reducers:{beginAvatarDrag(e,t){e.currently_dragging=t.payload},finishAvatarDrag(e){e.currently_dragging=null},startAvatarUpload(e){e.uploading=!0},endAvatarUpload(e){e.uploading=!1}}}),{beginAvatarDrag:l,finishAvatarDrag:i,startAvatarUpload:o,endAvatarUpload:s}=n.actions,c=n.reducer},52600:(e,t,r)=>{r.d(t,{l:()=>s});var a=r(3805),n=r(13945),l=r(39574),i=r(76767);let o=()=>(0,i.L)(()=>r.e(6098).then(r.bind(r,56098)).then(e=>e),l.K);async function s(){try{let{isSupported:e}=await o();return e()}catch(e){return a.error(e,void 0,{feature:n.Xj.SDKRecorder}),{supported:!1,error:e}}}},53684:(e,t,r)=>{r.d(t,{ZR:()=>h,wS:()=>y});var a=r(16508),n=r(90142),l=r(34767),i=r(54103),o=r(8672),s=r(3805),c=r(63189),d=r(24628),u=r(92020),m=r(84272),p=r(20309),g=r(31924);let E=({children:e,entityLookupMetadata:t})=>o.createElement(p.X,{client:(0,g.Xc)(t)},e),_=(0,o.createContext)({store:null,history:void 0,Sentry:void 0}),h=({entityType:e,entityId:t,children:r})=>{s.initLogger();let p=o.useRef((0,c.Ts)()),g=o.useRef((0,l.zR)()),h=[];a.Al&&h.push((0,u.A)(p.current));let y=(0,d.j)((0,m.r)(),h),v=(0,i.r)(y);(0,o.useEffect)(()=>{v()},[v]),(0,n.EQ)();let f={store:y,history:g.current};return o.createElement(_.Provider,{value:f},o.createElement(E,{entityLookupMetadata:e&&void 0!==t?{entityType:e,entityId:t}:void 0},r))};function y(){let{store:e,history:t}=(0,o.useContext)(_);return{store:e,history:t}}},54103:(e,t,r)=>{r.d(t,{r:()=>A});var a=r(43850),n=r(11604),l=r(14989),i=r(74561),o=r.n(i);let s="educationVerified",c=e=>"UserNotLoggedIn"===e.__typename;var d=r(21268),u=r(46320),m=r.n(u);let p=e=>{let t=(e??[]).filter(e=>null!==e);return m()(t,e=>e.medium)},g=o()(e=>{if(!c(e))return{aa_date_linked:e.aaDateLinked?e.aaDateLinked.toUTCString():void 0,aa_date_mastered:e.aaDateMastered?e.aaDateMastered.toUTCString():void 0,aa_id:e.aaId??void 0,aa_is_mastered:e.aaIsMastered??void 0,account_type:e.accountType,aiAccess:e.aiAccess,availableFtux:e.availableFtux,avatars:e.avatars,basic_video_limit:void 0,capabilities:e.capabilities,checklist:e.checklist,company_name:e.companyName,company_position:e.companyPosition,createdAt:e.createdAt.toUTCString(),dashboard_access:void 0,default_workspace_id:e.defaultWorkspaceId?e.defaultWorkspaceId.toString():null,deletion_pending:e.deletionPending,elevio_hash:e.elevioHash,email:e.email,first_name:e.firstName,has_activated_desktop_app:e.hasActivatedDesktopApp,has_gmail_account:void 0,hasWebPushSubscription:e.hasWebPushSubscription,help_options:e.helpOptions,id:Number(e.id),integration_settings:e.integrationSettings,intercomHash:e.intercomHash,is_primary:void 0,is_sdk_shared_user:e.isSdkSharedUser,isPureTrial:e.memberships?.[0]?.organization.is_pure_trial??!1,last_name:e.lastName,notification_settings:e.notificationSettings,oauth:p(e.oauths),onboarding:e.onboarding,password_is_set:e.passwordIsSet,persona:e.persona,recorder_settings:e.recorderSettings,role:e.role,scopes:e.scopes,seasonalLaunchFtuxProperties:{workspacePlan:e.memberships?.[0]?.organization.type,workspaceRole:e.memberships?.[0]?.member_role,hasAiAddOn:(0,d.j)(e),isFirstRecording:e.isFirstRecording??!1,isPureTrial:e.memberships?.[0]?.organization.is_pure_trial??!1},status:e.status,tags:{[s]:e.isEducationVerified},terms_accepted:e.termsAccepted,terms_accepted_created_at:e.termsAcceptedCreatedAt,triggers:(0,l.a)(e.triggers??[]),video_settings:e.videoSettings,workspacePlan:e.memberships?.[0]?.organization.type,workspaceRole:e.memberships?.[0]?.member_role}}),E=e=>g(e);var _=r(8672),h=r(63635),y=r(71113),v=r(3805),f=r(63189),S=r(56389),b=r(66865),k=r(13945),w=r(93598),I=r(87501);let A=e=>{let{store:t}=(0,_.useContext)(h.ty)||{};if(!t&&!e)throw Error("useGetUserCreator called outside of react-redux context and no store was provided");let r=e?e.dispatch.bind(e):t.dispatch.bind(t);return(0,_.useCallback)(()=>{try{let e=E((0,n.getCurrentUserFromCache)());if(!e)return;let t={};if((0,S.g$)().fromPublicSharePage&&(t.page={url:null}),f.Fh({id:e.id}),!(0,S.sU)()){let r=e.is_sdk_shared_user?null:e.id;(0,a.c5)(I.identify,r,{accountType:e.account_type,company_name:e.company_name,createdAt:e.createdAt,dashboard_access:e.dashboard_access,education_verified:!!(e.tags&&e.tags[s]),email:e.email,firstName:e.first_name,lastName:e.last_name,loom_sign_up_date:e.createdAt,name:(0,b.$G)(e),password_is_set:e.password_is_set,role:e.role,status:e.status},{context:t})}r((0,y.Cq)({user:e}));let{persona:l}=e,{persona_v1:i}=l;r((0,w.Aj)({...i}))}catch(e){v.error(e,{message:"Error setting up current user"},{team:k.u.CorePlatform})}},[r])}},64787:(e,t,r)=>{r.d(t,{h:()=>n});var a=r(15726);let n=e=>{let t=document.getElementById("container");if(!t)throw Error("Unable to find #container to render app");(0,a.H)(t).render(e)}},65072:(e,t,r)=>{r.d(t,{q:()=>n});var a=r(8672);let n=(e,t,r)=>{(0,a.useEffect)(()=>(e?document.title=`${e.trim()} | ${t}`:document.title=r,()=>{document.title=r}),[e,t,r])}},65976:(e,t,r)=>{r.d(t,{n:()=>l});var a,n=((a=n||{}).SPACE_POSTED="SPACE_POSTED",a.WORKSPACE_TAG="WORKSPACE_TAG",a.WORKSPACE_PUBLISHED="WORKSPACE_PUBLISHED",a.USER_OWNED_VIDEOS="USER_OWNED_VIDEOS",a.USER_ARCHIVED_VIDEOS="USER_ARCHIVED_VIDEOS",a.USER_SHARED_WITH_ME_VIDEOS="USER_SHARED_WITH_ME_VIDEOS",a.USER_PROFILE_VIDEOS="USER_PROFILE_VIDEOS",a.COMMUNITY_VIDEOS="COMMUNITY_VIDEOS",a.FOLDER="FOLDER",a.USER_COMMUNITY_VIDEOS="USER_COMMUNITY_VIDEOS",a.COMMUNITY_PROFILE_VIDEOS="COMMUNITY_PROFILE_VIDEOS",a.USER_WATCH_LATER="USER_WATCH_LATER",a.VIDEO_PERSONALIZATION="VIDEO_PERSONALIZATION",a.VIDEO_PERSONALIZATION_WITH_AUDIO="VIDEO_PERSONALIZATION_WITH_AUDIO",a.MEETING_RECORDING="MEETING_RECORDING",a);let l=["USER_WATCH_LATER"]},68278:(e,t,r)=>{r.d(t,{BJ:()=>s,Eu:()=>n,Gn:()=>d,OY:()=>S,Q$:()=>f,Qc:()=>u,S3:()=>_,Sy:()=>p,Ui:()=>g,W5:()=>c,Zr:()=>l,fN:()=>b,fP:()=>v,gP:()=>y,h6:()=>i,kU:()=>k,l:()=>E,nk:()=>m,oA:()=>a,p6:()=>o,uP:()=>h,y2:()=>w});let a="complete_onboarding",n="customize_video_name",l="filled_account_settings",i="first_cam_recording",o="first_video_recording",s="first_video_upload",c="first_video_viewed",d="followed_us_on_twitter",u="liked_us_on_facebook",m="push_notification_enabled",p="shared_first_video_on_facebook",g="tweeted_first_video",E="has_viewed_videos",_="has_viewed_screenshots",h="has_reached_recording_limit",y="email_verified",v="create_account",f="download_recorder",S="share_video",b="add_teammate",k="meeting_recording",w=[a,n,l,i,o,s,d,u,p,g,c,m,E,_,h,v,f,S,b,y,k]},71113:(e,t,r)=>{r.d(t,{Ay:()=>m,Cq:()=>u,Rz:()=>d});var a=r(59599),n=r(74969),l=r.n(n),i=r(68278),o=r(47201);let s={[i.Eu]:!1,[i.oA]:!1,[i.Zr]:!1,[i.h6]:!1,[i.p6]:!1,[i.BJ]:!1,[i.Gn]:!1,[i.Qc]:!1,[i.Sy]:!1,[i.Ui]:!1,[i.W5]:!1,[i.gP]:!1,[i.l]:!1,[i.S3]:!1,[i.uP]:!1,[i.fP]:!0,[i.Q$]:!1,[i.OY]:!1,[i.fN]:!1,[i.nk]:!1,[i.kU]:!1,getStartedChecklistBannerExpanded:!1},c=(0,a.Z0)({name:"checklist",initialState:s,reducers:{updateChecklistItem:(e,t)=>Object.assign({},e,{[t.payload.item]:t.payload.value}),updateChecklist(e,t){let r;return null!=t.payload.user&&(r=t.payload.user.status),Object.assign({},e,l()(t.payload.user.checklist,i.y2),{[i.gP]:null!=r&&r===o.zX})}}}),{updateChecklistItem:d,updateChecklist:u}=c.actions,m=c.reducer},71627:(e,t,r)=>{r.d(t,{Ay:()=>o,Y6:()=>l,_S:()=>i});var a=r(59599);let n=(0,a.Z0)({name:"splitScreenTakeovers",initialState:null,reducers:{openSplitScreenTakeover:(e,t)=>t.payload,closeSplitScreenTakeover:()=>null}}),{openSplitScreenTakeover:l,closeSplitScreenTakeover:i}=n.actions,o=n.reducer},75779:(e,t,r)=>{r.d(t,{V:()=>g,Z:()=>p});var a=r(74932),n=r(85026),l=r(52600),i=r(8672),o=r(32505),s=r.n(o),c=r(3805),d=r(13945),u=r(87501);let m=(0,i.createContext)({isSDKSupported:!1}),p=()=>{let e=(0,i.useContext)(m);return e||c.warning("useSDKSupport must be used within a SDKSupportProvider",{feature:d.Xj.SDKRecorder}),e},g=({children:e})=>{let t;let[r,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(),p=window.location.toString();return p.includes("/share")&&(t=p.slice(p.lastIndexOf("-")+1)),(0,n.J)(()=>{let e=!1;return(async()=>{let{supported:r,error:n}=await (0,l.l)();if(!r){let e=new(s())().getResult();u.track(a.iqP,{videoId:t,browserName:e?.browser?.name,browserVersion:e?.browser?.version,osName:e?.os?.name,osVersion:e?.os?.version,sdkNotSupportedReason:c,userAgent:e?.ua})}e||(o(r),d(n))})(),()=>{e=!0}}),i.createElement(m.Provider,{value:{isSDKSupported:r,sdkNotSupportedReason:c}},e)}},75968:(e,t,r)=>{r.d(t,{w:()=>h});var a=r(8672),n=r(15068),l=r(38702),i=r(30271),o=r(11604),s=r(23818),c=r(1732),d=r(5799),u=r(90623);let m={},p=(0,d.J1)`
    query GetAllUserProperties($userId: ID!) {
  getAllUserProperties(userId: $userId) {
    ... on GetAllUserPropertiesPayload {
      properties {
        ... on PersonProperty {
          name
          value
        }
      }
    }
  }
}
    `;var g=r(23604);let E={},_=(0,d.J1)`
    mutation ResetFtux($userId: ID!, $ftux: String!) {
  resetFtuxComponent(userId: $userId, ftux: $ftux) {
    ... on resetFtuxComponentPayload {
      success
      ftux
    }
    ... on Error {
      message
    }
  }
}
    `,h=({hasStickyHeader:e=!1})=>{let[t,r]=(0,a.useState)(!1),[d,h]=(0,a.useState)(""),[y,v]=(0,a.useState)(""),f=(0,o.useCurrentUserSelector)(e=>e.id,void 0),[S]=function(e){let t={...E,...e};return g.n(_,t)}({fetchPolicy:"no-cache",onCompleted:({resetFtuxComponent:e})=>{if(e?.__typename==="resetFtuxComponentPayload"){let{success:t,ftux:a}=e;t?(h(`\u{1F680} ${a} FTUX component reset successfully`),k()):h(`\u{1F62D} ${a} FTUX component reset failed`),r(!0)}}}),{data:b,refetch:k,loading:w}=function(e){let t={...m,...e};return u.I(p,t)}({variables:{userId:f??""},onError:e=>{v(`Failed to load user properties, ${e.message}`)}});if(w||!b?.getAllUserProperties||b?.getAllUserProperties?.__typename!=="GetAllUserPropertiesPayload")return null;let I=(b.getAllUserProperties.properties||[]).reduce((e,{name:t,value:r})=>(null!==t&&null!==r&&(e[t]=r),e),{}),A=i.Sf.map(e=>({name:e,priority:i.zt[e]?.priority??Number.MAX_VALUE})).sort((e,t)=>e.priority-t.priority);return a.createElement(a.Fragment,null,a.createElement(n.y8,{isOpen:t,onCloseClick:()=>r(!1)},d),a.createElement(a.Fragment,null,y?a.createElement(s.yn,{error:y}):null),a.createElement(n.mcf,{marginBottom:"xlarge",position:"relative"},a.createElement(n.B8B,{columns:["auto","3fr","1fr","1fr","1fr","1fr"],gap:"large",variant:"stripe"},a.createElement(n.mcf,{...e?{position:"sticky",top:-2}:void 0},a.createElement(n.vS5,{paddingX:"medium",paddingY:"small"},a.createElement(n.m_M,{content:"Reset to default value"},a.createElement(n.EYj,{alignment:"center",fontWeight:"bold"},"Reset")),a.createElement(n.EYj,{fontWeight:"bold"},"Name"),a.createElement(n.EYj,{alignment:"center",fontWeight:"bold"},"Dismissed"),a.createElement(n.EYj,{alignment:"center",fontWeight:"bold"},"Team"),a.createElement(n.EYj,{alignment:"center",fontWeight:"bold"},"Priority"),a.createElement(n.EYj,{alignment:"center",fontWeight:"bold"},"Expiration"))),A.map(({name:e},t)=>{let r=i.zt[e];if(!r)return null;let{priority:o,team:s,expires:d}=r,u=isNaN(d),m="";m=d?u?"Invalid expiry date, please check config":(0,c.formatAdminDate)(d):"N/A";let p=I[e];return a.createElement(n.vS5,{key:`ftux-${t}`,paddingX:"medium",paddingY:"small"},a.createElement(n.$nd,{size:"small",icon:a.createElement(l.m,null),onClick:()=>{S({variables:{userId:f??"",ftux:e}})}}),a.createElement(n.EYj,null,e),a.createElement(n.EYj,{alignment:"center"},(void 0!==p?p:"Not set").toString()),a.createElement(n.EYj,{alignment:"center"},s?.name??""),a.createElement(n.EYj,{alignment:"center"},o),a.createElement(n.EYj,{alignment:"center"},m))}))))}},82596:(e,t,r)=>{r.d(t,{j:()=>a});function a(e){let t=new URLSearchParams(window.location.search);Object.keys(e).forEach(r=>{t.set(r,e[r])}),window.location.search=t.toString()}},84272:(e,t,r)=>{r.d(t,{r:()=>I});var a=r(88280),n=r(44251),l=r(71113),i=r(8377),o=r(63814),s=r(30271);let c={availableFtux:[],visibleFtux:[],spacesOnboarding:{highlightCreateSpaceButton:!1,highlightActiveSpace:!1}},d=(e=c,t)=>{let{type:r,value:a}=t;switch(r){case o.uT:return{...e,availableFtux:a};case o.Je:{let t=[...e.visibleFtux,a],r=[],n=[];if(t.forEach(e=>{0===e.priority?r.push(e):n.push(e)}),r.length>=s.h4)return{...e,visibleFtux:r};for(;r.length<s.h4&&n.length>0;)r.push(n.pop());return{...e,visibleFtux:r}}case o._F:{let t=e.visibleFtux.filter(e=>e.name!==a);return{...e,visibleFtux:t}}case o.yv:return{...e,spacesOnboarding:{...e.spacesOnboarding,highlightCreateSpaceButton:a}};case o.wk:return{...e,spacesOnboarding:{...e.spacesOnboarding,highlightActiveSpace:a}};default:return e}};var u=r(94716);let m={email_error:null,is_fetching:!1,new_oauth:!1,password_error:null,plain_error:null},p=(e=m,t)=>{switch(t.type){case o.Yx:return{...e,email_error:t.err};case o.AX:return{...e,is_fetching:t.isFetching};case o.hj:return{...e,password_error:t.err};case o.iK:return{...e,plain_error:t.err};case o.DZ:return{...e,new_oauth:t.newOauth};default:return e}};var g=r(30616),E=r(98122),_=r(71627),h=r(36424);let y={is_fetching:!1,viewerNeedsPermission:!1,from_public_share_page:!1,duration:0,durationMs:0,transcriptVisible:!1,videoReadyToPlayOnSharePage:!1,emojiClickedInVideoPlayer:!1,captionsDetails:{captionsUrl:null,captionsSourceUrl:null},transcriptStatus:null},v=(e=y,t)=>{let r=e;switch(t.type){case o.zL:r={...e,is_fetching:!0,videoReadyToPlayOnSharePage:!1};break;case o.ZP:r={...e,from_public_share_page:t.fromPublicSharePage};break;case o.nn:r={...e,viewerNeedsPermission:t.viewerNeedsPermission};break;case o.o$:r={...e,is_fetching:!1,videoReadyToPlayOnSharePage:!0};break;case o.md:r={...e,is_fetching:!1};break;case o.oC:r={...e,transcriptVisible:t.transcriptVisible};break;case o.mH:r={...e,transcriptStatus:t.transcriptStatus};break;case o.Z0:r={...e,videoReadyToPlayOnSharePage:!0};break;case o.Be:r={...e,emojiClickedInVideoPlayer:t.emojiClickedInVideoPlayer};break;case o.PC:r={...e,captionsDetails:t.captionsDetails};break;default:r=e}return r},f={company:null,company_size:null,complete:!1,custom_role:null,other_intent_case_explanation:null,role:null,sharing_intent_case:null,use_case_plan_persona:null,use_case_plan:null},S=(e=f,t)=>{switch(t.type){case o.xn:return{...e,company:t.welcomeState.company,company_size:t.welcomeState.company_size,complete:t.welcomeState.complete,custom_role:t.welcomeState.custom_role,other_intent_case_explanation:t.welcomeState.other_intent_case_explanation,role:t.welcomeState.role,sharing_intent_case:t.welcomeState.sharing_intent_case,use_case_plan:t.welcomeState.use_case_plan,use_case_plan_persona:t.welcomeState.use_case_plan_persona};case o.Yj:return{...e,role:t.role};case o.MK:return{...e,use_case_plan:t.useCasePlan};default:return e}};var b=r(21321);let k={workspaces:[],isFetching:!0,showInviteLinkBillingWarning:!1},w=(e=k,t)=>{let r=e;switch(t.type){case o.Kn:r={...e,workspaces:t.workspaces||[],isFetching:!1};break;case o.Bt:r={...e,workspaces:e.workspaces.map(e=>e.id!==t.workspace.id?{...e}:{...e,...t.workspace})};break;case o.ge:r={...e,workspaces:e.workspaces.map(e=>e.id!==t.id?e:{...e,counts:{...e.counts,unseenNotifications:t.count}})};break;default:r=e}return r.selectedWorkspace=r?.workspaces?.find(e=>e.isSelected),!r.selectedWorkspace&&r.workspaces[0]&&(0,b.TS)(r.workspaces[0].id,void 0,!1),r},I=()=>(0,a.HY)({avatar:n.Ay,checklist:l.Ay,feature_flags:i.Ay,ftux:d,invites:u.A,login:p,reset_password:g.A,share_video:E.Ay,splitScreenTakeovers:_.Ay,transcription:h.Ay,video_player:v,welcome:S,workspace:w})},91196:(e,t,r)=>{r.d(t,{c:()=>ey});var a=r(59599),n=r(43850),l=r(11604),i=r(8672),o=r(15068),s=r(9051),c=r(79086),d=r(13945),u=r(54897),m=r(75608),p=r(23818),g=r(75968),E=r(7665),_=r(56389),h=r(52304),y=r(9582),v=r.n(y),f=r(94731),S=r(7888),b=r(8277),k=r(69332);let w=()=>{let{featureLoadedRef:e}=(0,k.bv)();return i.createElement(o.mcf,{refHandler:t=>{e(t)},width:"100%"},i.createElement(h.Y,null,e=>i.createElement(v(),{collapsed:2,sortKeys:!0,src:(0,f.Gl)(JSON.stringify(e.cache?.data?.data))})))};var I=r(63635),A=r(1917);let T="https://console.statsig.com",C=new Set(Object.values(A.Rv)),P=new Set(Object.values(A.Y0)),R=()=>{let{featureLoadedRef:e}=(0,k.bv)(),t=(0,I.d4)(e=>e.feature_flags),r=e=>c.IN[e]&&c.IN[e]?.statsigLink?c.IN[e].statsigLink:C.has(e)?`${T}/experiments/${e}`:P.has(e)?`${T}/gates/${e}`:null,a=Object.values(t).sort((e,t)=>e.key.localeCompare(t.key));return i.createElement(o.mcf,{refHandler:t=>{e(t)}},i.createElement(o.B8B,{columns:["1fr","2fr"],gap:"small"},a.map(e=>{let t;"string"==typeof e.value?t=e.value:"boolean"==typeof e.value&&(t=e.value.toString());let a=r(e.key);return i.createElement(o.vS5,{key:e.key,paddingX:"medium",paddingY:"small"},a?i.createElement(o.N_E,{href:a,target:"_blank"},e.key):i.createElement(o.m_M,{content:"Flag is not listed in EXPERIMENT or GATES so link cannot be determined"},i.createElement(o.EYj,null,e.key)),i.createElement(o.EYj,null,t))})))};var D=r(86292),O=r(15544),U=r(51522),x=r(82596),B=r(49486);let F=d.Xj.DevToolsApolloCache,M=()=>{let{featureLoadedRef:e}=(0,k.bv)(),t=Object.keys(U.HM),r=e=>{(0,x.j)({modal:e})},a=e=>{let t=e.toLowerCase().replace(/_/g," ");return t.charAt(0).toUpperCase()+t.slice(1)};return i.createElement(o.mcf,{refHandler:t=>{e(t)},marginY:1},i.createElement(o.B19,{direction:"column",gap:3,alignItems:"stretch"},i.createElement(o.EYj,{size:"body-md"},"Trigger open any modal managed by our"," ",i.createElement("pre",{className:"inline c:orange"},"ModalContainer"),". Modals controlled elsewhere may clash with other modals. Consider moving your modal. Some modals will either fail to load or be incomplete due to missing data."," "),i.createElement(o.B8B,{columns:["auto","1fr","auto"],gap:"small"},t.map((e,t)=>i.createElement(o.vS5,{key:t,paddingX:"medium",paddingY:"small"},i.createElement(o.K0,{altText:`Open ${e}`,icon:i.createElement(O.e,null),onClick:()=>r(e)}),i.createElement(o.EYj,{fontWeight:"bold",size:"body-md"},a(e)),i.createElement(o.EYj,{size:"body-sm",color:"bodyDimmed"},e))))))},N=()=>{let e=(0,D.W6)(),{reportError:t}=(0,k.bv)(),r=()=>{e.go(0)};return i.createElement(p.tH,{feature:F,name:B.od.ModalDevToolsError,onError:e=>t(F,e),renderError:()=>i.createElement(o.mcf,{paddingY:"20vh"},i.createElement(p.ky,{text:"Modal could not be loaded. Some modals may require data you do not have access to.",CTAText:"Refresh page",handleCTAClick:r,showWarningIcon:!0,isInternalError:!0}))},i.createElement(M,null))};var Y=r(5799),j=r(90623);let L={},V=(0,Y.J1)`
    query GetEnvVars {
  getEnvVars {
    __typename
    ... on GetEnvVarsPayload {
      envVars
    }
    ... on Error {
      message
    }
  }
}
    `,G=()=>{let{featureLoadedRef:e}=(0,k.bv)(),{loading:t,error:r,data:a}=function(e){let t={...L};return j.I(V,t)}();if(t)return i.createElement(o.aHM,null);if(r)return i.createElement("div",null,"Error loading environment variables: ",r.message);let n=a?.getEnvVars?.__typename==="GetEnvVarsPayload"&&(0,f.Gl)(a.getEnvVars.envVars)||{};return i.createElement(o.mcf,{refHandler:t=>{e(t)},width:"100%"},i.createElement(o.B8B,{columns:["auto","1fr","auto"],gap:"small"},i.createElement(o.vS5,{paddingX:"medium",paddingY:"small"},i.createElement(v(),{collapsed:2,sortKeys:!0,src:n}))))},H=()=>{let e=!!(0,_.sF)(u.tD),t=m.iE.test(window.location.href);return e?{bottom:2,left:2}:t?{bottom:10,right:2}:{bottom:2,right:10}},$=[{title:"Apollo Cache",content:i.createElement(()=>i.createElement(S.i,{feature:d.Xj.DevToolsApolloCache,errorType:b.Y.DEFAULT},i.createElement(w,null)),null)},{title:"Feature Flags",content:i.createElement(()=>i.createElement(S.i,{feature:d.Xj.DevToolsFeatureFlags,errorType:b.Y.DEFAULT},i.createElement(R,null)),null)},{title:"FTUX",content:i.createElement(g.w,{hasStickyHeader:!0})},{title:"Modals",content:i.createElement(()=>i.createElement(S.i,{feature:d.Xj.ShareModalShareTab,errorType:b.Y.CUSTOM,customErrorBoundary:i.createElement(N,null)},i.createElement(M,null)),null)},{title:"Environment Variables",content:i.createElement(()=>i.createElement(S.i,{feature:d.Xj.DevToolsEnvVars,errorType:b.Y.DEFAULT},i.createElement(G,null)),null)}],z=()=>{let[e,t]=(0,i.useState)(!1),[r,a]=(0,i.useState)(!1),[n,l]=(0,i.useState)($[0]);return e?null:i.createElement(i.Fragment,null,i.createElement(o.mcf,{borderSide:"all",backgroundColor:"background",position:"fixed",padding:"small",radius:"175",zIndex:1e5,...H()},i.createElement(o.zAb,null,i.createElement(o.QWc,{onClick:()=>a(!0),size:"small"},"Dev tools"),i.createElement(o.K0,{onClick:()=>t(!0),size:"small",altText:"Close dev tools",icon:i.createElement(s.h,null)}))),i.createElement(o.aFV,{isOpen:r,title:"Loom dev tools",onCloseClick:()=>{l($[0]),a(!1)},maxHeight:"80vh",maxWidth:"80vw"},i.createElement(o.mcf,{marginTop:2},i.createElement(o.tUM,null,$.map((e,t)=>i.createElement(o.ozo,{key:t,isActive:e.title===n.title,onClick:()=>l(e)},e.title)))),i.createElement(o.mcf,{borderSide:"all",padding:"medium",width:"100%",overflow:"auto"},n.content)))},K=()=>i.createElement(E.A,{flag:c.Pu,activationValues:[!0]},i.createElement(p.AT,{feature:d.Xj.DevToolsApolloCache},i.createElement(z,null)));var W=r(76375),X=r(53684),Z=r(31770),q=r(73407),J=r(84272),Q=r(77767),ee=r(54069);let et=({children:e})=>{let t=(0,I.wA)(),r=(0,ee.pJ)(e=>e.availableFtux||null,null);return(0,i.useLayoutEffect)(()=>{r&&t((0,Q.Ij)(r))},[r,t]),i.createElement(i.Fragment,null,e)};var er=r(55172),ea=r(66714),en=r(46915),el=r(52962),ei=r(74932),eo=r(46153),es=r(3848),ec=r(28400),ed=r(26545),eu=r(87501),em=r(42579);let ep="u">typeof window,eg=(e,t,r)=>{if(!ep)return[t,()=>{}];let[a,n]=(0,i.useState)(()=>{try{let a=sessionStorage.getItem(e);return"string"!=typeof a?(sessionStorage.setItem(e,r?String(t):JSON.stringify(t)),t):r?a:JSON.parse(a||"null")}catch{return t}});return(0,i.useEffect)(()=>{try{let t=r?String(a):JSON.stringify(a);sessionStorage.setItem(e,t)}catch{}}),[a,n]},eE=()=>{let{showErrorBar:e}=(0,eo.Nl)(),[t,r]=eg("loom_creator_lite_limit_session_banner_dismissed",void 0),{value:a,loading:n}=(0,es.S)(ed.qp.CREATOR_LITE_MEMBER_LIMIT_GLOBAL_BANNER),l=a||t;return i.useEffect(()=>{n||l||(eu.track(ei.K2P),e({actionHref:"https://www.loom.com/connect/creator-lite-limit",actionHrefLabel:"Contact our sales team",bannerId:ec.nh,message:`You have exceeded the ${ec.b1.BUSINESS.CREATOR_LITE_MEMBER_LIMIT} Creator Lite limit for your workspace.`,severity:em.MI.ERROR}))},[l,n,r,e]),null},e_=()=>{let e=(0,el.Ei)(),t=(0,er.Rw)(c.B7),r=e?.type===en.lZ,a=(e?.counts?.users?.total_active_creator_lites??0)>=e?.limits?.CREATOR_LITE_MEMBER_LIMIT,n=e?.memberRole===ea._1;return e&&r&&n&&t&&a?i.createElement(eE,null):null};var eh=r(75779);let ey=({children:e,...t})=>{let{store:r}=(0,X.wS)(),o="feature"in t?t.feature:void 0;return(0,n.DO)({feature:o}),i.createElement(I.Kq,{store:r||(0,a.U1)({reducer:(0,J.r)(),middleware:(0,a.Ks)({serializableCheck:!1})})},i.createElement(eh.V,null,i.createElement(q.Kd,null,i.createElement(Z.L,null,i.createElement(e_,null),i.createElement(p.aZ,{...t},i.createElement(l.RequireCurrentUserLoaded,null,i.createElement(et,null,i.createElement(K,null),i.createElement(W.x,null,e))))))))}},92020:(e,t,r)=>{r.d(t,{A:()=>a});let a=e=>()=>{let t;return e.configureScope(e=>{e.addEventProcessor(e=>(e.extra={...e.extra,previousAction:t},e))}),r=>a=>(e.addBreadcrumb({message:a.type,category:"redux-action"}),t=a,r(a))}},93598:(e,t,r)=>{r.d(t,{Aj:()=>n,E$:()=>l,I1:()=>i});var a=r(63814);let n=e=>({type:a.xn,welcomeState:e}),l=e=>({type:a.MK,useCasePlan:e}),i=e=>({type:a.Yj,role:e})},94716:(e,t,r)=>{r.d(t,{A:()=>i,Y:()=>l});var a=r(59599);let n=(0,a.Z0)({name:"invites",initialState:{inviteSubmitted:!1},reducers:{updateInviteSubmitted(e){e.inviteSubmitted=!0}}}),{updateInviteSubmitted:l}=n.actions,i=n.reducer}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/8374-b077d48afff308f26a48.js.map